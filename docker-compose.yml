services:
  app:
    build:
      context: .
      shm_size: 256m
    mem_limit: 1g
    memswap_limit: 1g
    cpus: 1
    ports:
      - "127.0.0.1:3067:3000"
    environment:
      - PORT=3000
      - TBA_API_KEY=${TBA_API_KEY:-}
      - NEXUS_API_KEY=${NEXUS_API_KEY:-}
    restart: unless-stopped
    networks:
      - proxied

networks:
  proxied:
    name: proxied
    external: true
